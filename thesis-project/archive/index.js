let database =
{
    "tagList": [
        {
            "tag": "Arts",
            "files": [
                
            ],
            "children": [
                {
                    "tag": "Ancient Art",
                    "files": [
                        3,
                    ],
                    "children": null
                },
                {
                    "tag": "Music",
                    "files": [
                        4
                    ],
                    "children": null
                },
            ]
        },
        {
            "tag": "Culture",
            "files": [
                
            ],
            "children": [
                {
                    "tag": "Culture Parks",
                    "files": [
                        13,
                        14
                    ],
                    "children": null
                },
                {
                    "tag": "Cultural Events",
                    "files": [
                        15
                    ],
                    "children": null
                },
                {
                    "tag": "Cuisine",
                    "files": [
                        16,
                        17,
                        18
                    ],
                    "children": null
                },
                {
                    "tag": "Diaspora",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Festivals",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Religion",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Lifestyle",
                    "files": [
                        8
                    ],
                    "children": null
                }
            ]
        },
        {
            "tag": "History",
            "files": [
                
            ],
            "children": [
                {
                    "tag": "Ancient History",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Archaeology",
                    "files": [
                        3
                    ],
                    "children": null
                },
                {
                    "tag": "Celtic History (Roman era)",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Celtic History (medieval era)",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Celtic Revival",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "History of Diaspora",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "English Colonization",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Famine/Genocide Under English Occupation",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "History of the Irish Republic",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Northern Ireland",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Religious History",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "The Troubles",
                    "files": [
                        
                    ],
                    "children": null
                },
            ]
        },
        {
            "tag": "Language",
            "files": [
                0
            ],
            "children": [
                {
                    "tag": "Celtic Languages",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "English Language in Ireland",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Gaeltachts",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Gaelic Language",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Language History",
                    "files": [
                        
                    ],
                    "children": null
                },
            ]
        },
        {
            "tag": "Nature",
            "files": [
                1
            ],
            "children": [
                {
                    "tag": "Climate Change",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Flora",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Fauna",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Geography",
                    "files": [
                        
                    ],
                    "children": null
                },
            ]
        },
        {
            "tag": "Politics",
            "files": [
                
            ],
            "children": [
                {
                    "tag": "Decolonial Politics",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Immigration and Citizenship Laws",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "International Politics",
                    "files": [
                        
                    ],
                    "children": [
                        {
                            "tag": "Russian Naval Drill in Irish EEZ 2022",
                            "files": [
                                5,
                                6,
                                7
                            ],
                            "children": null
                        }                
                    ]
                },
                {
                    "tag": "Laws",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Military",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Political System",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Partisan Politics",
                    "files": [
                        
                    ],
                    "children": null
                },
            ]
        },
        {
            "tag": "Society",
            "files": [
                
            ],
            "children": [
                {
                    "tag": "Education",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Public Opinion",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Trends",
                    "files": [
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Stories",
                    "files": [
                        8
                    ],
                    "children": null
                },
            ]
        },
        {
            "tag": "Solidarity",
            "files": [
                12
            ],
            "children": [
                {
                    "tag": "Indigenous Rights",
                    "files": [
                        10,
                        11
                    ],
                    "children": null
                },
                {
                    "tag": "Language Preservation",
                    "files": [
                        9
                    ],
                    "children": null
                },
                {
                    "tag": "Cultural Preservation",
                    "files": [                        
                        
                    ],
                    "children": null
                },
                {
                    "tag": "Land Back",
                    "files": [
                        8
                    ],
                    "children": null
                },
            ]
        },
        {
            "tag": "My Reflections - by Paul Ahern II",
            "files": [
                
            ],
            "children": null
        },
    ],
    "fileList": [
        {
            "id": 0,
            "title": "Language death",
            "by": [
                {
                    "name": "David Crystal",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "pdf/languagedeath - david crystal.pdf"
        },
        {
            "id": 1,
            "title": "Roscommon bog restoration hailed as 'superstar' projects",
            "by": [
                {
                    "name": "RTÉ News",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/ka3wwAM3B0I"
        },
        {
            "id": 2,
            "title": "Sittin",
            "by": [
                {
                    "name": "the dock of the bay",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/JVIhDv6S3MU"
        },
        {
            "id": 3,
            "title": "The establishment of Tuam as an archdiocesan capital in the twelfth century",
            "by": [
                {
                    "name": "Dr. Griffin Murray",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "pdf/tuam_Archdiocese.pdf"
        },
        {
            "id": 4,
            "title": "Sello - As Gaeilge (Music Video) | Pressplay",
            "by": [
                {
                    "name": "Sello",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/JVIhDv6S3MU"
        },
        {
            "id": 5,
            "title": "Irish Fishermen Plan To Disrupt Russian Naval War Games: 'Our Presence Is Our Protest'",
            "by": [
                {
                    "name": "Rachel Maddow on MSNBC",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/GBUKJ2V3W0E"
        },
        {
            "id": 6,
            "title": "For Irish Fishermen, Confrontation With Russia Is A Matter Of Protecting Their Livelihood",
            "by": [
                {
                    "name": "The Rachel Maddow Show on MSNBC",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/kFewq_Sb-D0"
        },
        {
            "id": 7,
            "title": "Fishermen meet Russian ambassador over naval exercises",
            "by": [
                {
                    "name": "RTÉ News",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/_EWWHMCDzEQ"
        },
        {
            "id": 8,
            "title": "Hero's welcome for 81-year-old after national tour",
            "by": [
                {
                    "name": "RTÉ News",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/GHpP1HzAPDU"
        },
        {
            "id": 9,
            "title": "Languages classes in Nunavut giving people a better sense of who they are",
            "by": [
                {
                    "name": "APTN News",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/rAzGBaBrS9s"
        },
        {
            "id": 10,
            "title": "Thousands march in Vancouver for the missing and murdered",
            "by": [
                {
                    "name": "APTN News",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/9rwkGStFsSo"
        },
        {
            "id": 11,
            "title": "3 Elders die in Unamen Shipu following COVID-19 outbreak",
            "by": [
                {
                    "name": "APTN News",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/IxVTqum2a8M"
        },
        {
            "id": 12,
            "title": "Potawatomi History | Tribal Histories",
            "by": [
                {
                    "name": "PBS Wisconsin",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/ngttqI4yzJ0"
        },
        {
            "id": 13,
            "title": "Review of Elizabeth Healy's Craggaunowen and the Hunt Museum. A Recreation of Celtic Ireland",
            "by": [
                {
                    "name": "Paul Gosling",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "pdf/cragg review.pdf"
        },
        {
            "id": 14,
            "title": "Craggaunowen Tour Work Sheets",
            "by": [
                {
                    "name": "Craggaunowen. A Division of the Hunt Museums Trust",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "pdf/cragg tour worksheet.pdf"
        },
        {
            "id": 15,
            "title": "Vintage Television Special on the Opening of Brú Ború",
            "by": [
                {
                    "name": "Comhaltas Traditional Music Archive",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/4Uiqokv3wsM"
        },
        {
            "id": 16,
            "title": "Anthony Bourdain having breakfast in Ireland on No Reservations",
            "by": [
                {
                    "name": "Anthony Bourdain",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/DKnqlw3AeY0"
        },
        {
            "id": 17,
            "title": "The Future of Irish Cuisine",
            "by": [
                {
                    "name": "JFK Library",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/u9hthycc7Os"
        },
        {
            "id": 18,
            "title": "Food On The Edge 2018 Highlights",
            "by": [
                {
                    "name": "Foodontheedge",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/xCqcCJX0hKk"
        },
        {
            "id": 19,
            "title": "Sittin",
            "by": [
                {
                    "name": "the dock of the bay",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/JVIhDv6S3MU"
        },
        {
            "id": 20,
            "title": "The establishment of Tuam as an archdiocesan capital in the twelfth century",
            "by": [
                {
                    "name": "Dr. Griffin Murray",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "pdf/tuam_Archdiocese.pdf"
        },
        {
            "id": 21,
            "title": "Sello - As Gaeilge (Music Video) | Pressplay",
            "by": [
                {
                    "name": "Sello",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/JVIhDv6S3MU"
        },
        {
            "id": 22,
            "title": "Irish Fishermen Plan To Disrupt Russian Naval War Games: 'Our Presence Is Our Protest'",
            "by": [
                {
                    "name": "Rachel Maddow on MSNBC",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/GBUKJ2V3W0E"
        },
        {
            "id": 23,
            "title": "For Irish Fishermen, Confrontation With Russia Is A Matter Of Protecting Their Livelihood",
            "by": [
                {
                    "name": "The Rachel Maddow Show on MSNBC",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/kFewq_Sb-D0"
        },
        {
            "id": 24,
            "title": "Fishermen meet Russian ambassador over naval exercises",
            "by": [
                {
                    "name": "RTÉ News",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/_EWWHMCDzEQ"
        },
        {
            "id": 25,
            "title": "Hero's welcome for 81-year-old after national tour",
            "by": [
                {
                    "name": "RTÉ News",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/GHpP1HzAPDU"
        },
        {
            "id": 26,
            "title": "Languages classes in Nunavut giving people a better sense of who they are",
            "by": [
                {
                    "name": "APTN News",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/rAzGBaBrS9s"
        },
        {
            "id": 27,
            "title": "Thousands march in Vancouver for the missing and murdered",
            "by": [
                {
                    "name": "APTN News",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/9rwkGStFsSo"
        },
        {
            "id": 28,
            "title": "3 Elders die in Unamen Shipu following COVID-19 outbreak",
            "by": [
                {
                    "name": "APTN News",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/IxVTqum2a8M"
        },
        {
            "id": 29,
            "title": "Potawatomi History | Tribal Histories",
            "by": [
                {
                    "name": "PBS Wisconsin",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/ngttqI4yzJ0"
        },
        {
            "id": 30,
            "title": "Review of Elizabeth Healy's Craggaunowen and the Hunt Museum. A Recreation of Celtic Ireland",
            "by": [
                {
                    "name": "Paul Gosling",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "pdf/cragg review.pdf"
        },
        {
            "id": 31,
            "title": "Craggaunowen Tour Work Sheets",
            "by": [
                {
                    "name": "Craggaunowen. A Division of the Hunt Museums Trust",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "pdf/cragg tour worksheet.pdf"
        },
        {
            "id": 32,
            "title": "Vintage Television Special on the Opening of Brú Ború",
            "by": [
                {
                    "name": "Comhaltas Traditional Music Archive",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/4Uiqokv3wsM"
        },
        {
            "id": 33,
            "title": "Anthony Bourdain having breakfast in Ireland on No Reservations",
            "by": [
                {
                    "name": "Anthony Bourdain",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/DKnqlw3AeY0"
        },
        {
            "id": 34,
            "title": "The Future of Irish Cuisine",
            "by": [
                {
                    "name": "JFK Library",
                    "type": "Author"
                }
            ],
            "year": null,
            "src": "https://www.youtube.com/embed/u9hthycc7Os"
        }
    ]
}

console.log(database)

function getTagList() {

    for (let i = 0; i < database.tagList.length; i++) {
        let taglevel1 = i;
        document.getElementById("taglist").innerHTML += `<div class="taglist a" id="taglevel${taglevel1}"><em><a href="#level${taglevel1}">${database.tagList[i].tag}</a></em></div>`
        console.log(database.tagList[i].tag)
        console.log("taglevel1 " + taglevel1)

        for (let i = 0; (database.tagList[taglevel1].children != null) && (i < database.tagList[taglevel1].children.length); i++) {
            let taglevel2 = i;
            document.getElementById(`taglevel${taglevel1}`).innerHTML += `<div class="taglist b" id="taglevel${taglevel1}-${taglevel2}"><em><a href="#level${taglevel1}-${taglevel2}">${database.tagList[taglevel1].children[i].tag}</a></em></div>`
            console.log("|   " + database.tagList[taglevel1].children[i].tag)
            console.log("|   taglevel2 " + taglevel2)

            for (let i = 0; (database.tagList[taglevel1].children[taglevel2].children != null) && (i < database.tagList[taglevel1].children[taglevel2].children.length); i++) {
                let taglevel3 = i;
                document.getElementById(`taglevel${taglevel1}-${taglevel2}`).innerHTML += `<div class="taglist c" id="taglevel${taglevel1}-${taglevel2}-${taglevel3}"><em><a href="#level${taglevel1}-${taglevel2}-${taglevel3}">${database.tagList[taglevel1].children[taglevel2].children[i].tag}</a></em></div>`
                console.log("|   |   " + database.tagList[taglevel1].children[taglevel2].children[i].tag)
                console.log("|   |   taglevel3 " + taglevel3)
            }
        }
    }
}

getTagList();


function getMasterList() {

    for (let i = 0; i < database.tagList.length; i++) {
        let level1 = i;
        document.getElementById("masterlist").innerHTML += `<div class="list a" id="level${level1}"><em>${database.tagList[i].tag}</em></div>`
        console.log(database.tagList[i].tag)
        console.log("level1 " + level1)

        for (let i = 0; i < database.tagList[level1].files.length; i++) {
            let file = i;
            document.getElementById(`level${level1}`).innerHTML += `<div class="link"><i><a href="#" onclick="reader('${database.fileList[database.tagList[level1].files[file]].src}')">${database.fileList[database.tagList[level1].files[file]].title}</a></i> by ${database.fileList[database.tagList[level1].files[file]].by[0].name}</div>`
            console.log(database.tagList[level1].files[file])
        }

        for (let i = 0; (database.tagList[level1].children != null) && (i < database.tagList[level1].children.length); i++) {
            let level2 = i;
            document.getElementById(`level${level1}`).innerHTML += `<div class="list b" id="level${level1}-${level2}"><em>${database.tagList[level1].children[i].tag}</em></div>`
            console.log("|   " + database.tagList[level1].children[i].tag)
            console.log("|   level2 " + level2)

            for (let i = 0; i < database.tagList[level1].children[level2].files.length; i++) {
                let file = i;
                document.getElementById(`level${level1}-${level2}`).innerHTML += `<div class="link"><i><a href="#" onclick="reader('${database.fileList[database.tagList[level1].children[level2].files[file]].src}')">${database.fileList[database.tagList[level1].children[level2].files[file]].title}</a></i> by ${database.fileList[database.tagList[level1].children[level2].files[file]].by[0].name}</div>`
                console.log(database.tagList[level1].children[level2].files[file])
            }

            for (let i = 0; (database.tagList[level1].children[level2].children != null) && (i < database.tagList[level1].children[level2].children.length); i++) {
                let level3 = i;
                document.getElementById(`level${level1}-${level2}`).innerHTML += `<div class="list c" id="level${level1}-${level2}-${level3}"><em>${database.tagList[level1].children[level2].children[i].tag}</em></div>`
                console.log("|   |   " + database.tagList[level1].children[level2].children[i].tag)
                console.log("|   |   level3 " + level3)

                for (let i = 0; i < database.tagList[level1].children[level2].children[level3].files.length; i++) {
                    let file = i;
                    document.getElementById(`level${level1}-${level2}-${level3}`).innerHTML += `<div class="link"><i><a href="#" onclick="reader('${database.fileList[database.tagList[level1].children[level2].children[level3].files[file]].src}')">${database.fileList[database.tagList[level1].children[level2].children[level3].files[file]].title}</a></i> by ${database.fileList[database.tagList[level1].children[level2].children[level3].files[file]].by[0].name}</div>`
                    console.log(database.tagList[level1].children[level2].children[level3].files[file])
                }
            }
        }
    }
}

getMasterList();



function reader(source) {
    document.getElementById("viewer").innerHTML = `<iframe id="iframepdf" src="${source}"></iframe><div class="close" onclick="remove()">×</div>`
    iframe.src = source;
}

function remove() {
    document.getElementById("viewer").innerHTML = "";
}

document.addEventListener('keydown', function(event){
	if(event.key === "Escape"){
		document.getElementById("viewer").innerHTML = "";
	}
});